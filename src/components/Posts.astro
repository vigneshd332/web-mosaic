---
import api from "../utils/api";
const posts = await api.getAllPosts();
---

<section
  id="posts"
  class="w-11/12 max-sm:pb-20 sm:pb-24 lg:pb-40 flex items-center flex-col gap-10"
>
  <div class="px-10 md:pl-[10%] w-full">
    <h1 class="text-5xl font-medium tracking-wider text-whi">POSTS_</h1>
    <p class="text-md pl-[2px] mt-2 text-whi opacity-70">
      Write the experiences that win hearts and minds.
    </p>
  </div>
  <div class="grid px-10 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
    {
      posts.map((post: { id: number; name: string }) => {
        return (
          <a
            href={`/posts/${post.id}`}
            class="cursor-pointer group grid grid-rows-1 grid-cols-1 overflow-hidden"
          >
            <img
              src={`/images/post-image-${post.id % 4}.webp`}
              alt="Image related to the post"
              class="w-full h-96 object-cover col-start-1 col-end-2 row-start-1 row-end-2 group-hover:scale-110 transition-all duration-500 ease-in-out"
            />
            <h1 class="text-xl z-10 col-start-1 col-end-2 row-start-1 mt-auto pb-4 pt-20 px-4 row-end-2 font-medium text-whi bg-gradient-to-t from-[#000000b3]  to-transparent">
              {post.name}
            </h1>
          </a>
        );
      })
    }
  </div>
</section>
